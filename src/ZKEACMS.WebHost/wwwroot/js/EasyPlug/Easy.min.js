/*! http://www.zkea.net/
 * Copyright (c) ZKEASOFT. All rights reserved.
 * http://www.zkea.net/licenses */
Array.prototype.ContainsValue=function(val){for(var index=-1,i=0;i<this.length;i++)this[i]==val&&(index=i);return-1!=index},Array.prototype.ValueIndex=function(val){for(var index=-1,i=0;i<this.length;i++)if(this[i]==val){index=i;break}return index},String.prototype.replaceAll=function(oldValue,newVlaue){var target=this;return this.split(oldValue).join(newVlaue)};var Easy={MaxZindex:1,Processor:function(fun,delay){clearTimeout(this.tid),"number"!=typeof delay&&(delay=60),this.tid=setTimeout((function(){fun&&fun.call()}),delay)},WindowSize:function(){var w,h;return window.attachEvent&&!window.opera?(h=document.documentElement.clientHeight,w=document.documentElement.clientWidth):(h=window.innerHeight,w=window.innerWidth),{width:w,height:h}}};Easy.Cookie=function(){function SetCookie(c_name,value,expiredays){var exdate=new Date;exdate.setDate(exdate.getDate()+expiredays),document.cookie=c_name+"="+escape(value)+(null==expiredays?"":";expires="+exdate.toGMTString())+";path=/;"}function GetCookie(c_name){return document.cookie.length>0?(c_start=document.cookie.indexOf(c_name+"="),-1!=c_start?(c_start=c_start+c_name.length+1,c_end=document.cookie.indexOf(";",c_start),-1==c_end&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))):void 0):""}function DeleteCookie(c_name){GetCookie(c_name)&&(document.cookie=c_name+"=; expires=Thu, 01-Jan-70 00:00:01 GMT")}return{SetCookie:SetCookie,GetCookie:GetCookie,DeleteCookie:DeleteCookie}}(),Easy.MousePosition=function(e){var x,y,eX=e||window.event;return{X:x=eX.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,Y:y=eX.clientY+document.body.scrollTop+document.documentElement.scrollTop}},Easy.OpacityBackGround=function(){var opa=.5,ref=0;function ShowOpactiyBg(zindex,callBack){var Ele;"number"!=typeof zindex&&(zindex=1),0===ref?(Ele=$("<div class='OpacityBackGround OtherFixed'></div>"),$("body").append(Ele),Ele.fadeTo(0,0),Ele.css("z-index",zindex)):Ele=$("div.OpacityBackGround"),Ele.fadeTo(300,opa,(function(){callBack&&callBack.call()})),ref++}function CloseOpacityBg(callBack){var Bele;(--ref<0&&(ref=0),0===ref)?$(".OpacityBackGround").fadeTo(300,0,(function(){0===ref&&$(this).remove(),callBack&&callBack.call()})):callBack&&callBack.call()}function SetOpacity(opacity){opa=opacity}return{Show:ShowOpactiyBg,Close:CloseOpacityBg,SetOpacity:SetOpacity}}(),Easy.Block=function(){Easy.Block.IsBlocked=!0,0===$(".easy-block").size()&&(Easy.OpacityBackGround.Show(),$(".OpacityBackGround").addClass("busy"),$("body").append("<div class='easy-block' />"))},Easy.UnBlock=function(){Easy.Block.IsBlocked&&(Easy.Block.IsBlocked=!1,$(".OpacityBackGround").removeClass("busy"),Easy.OpacityBackGround.Close(),$(".easy-block").remove())},Easy.ShowMessageBox=function(title,msg,fnOk,ShowCancel,zindex){var box=$("<div class='MessageBox BoxShadow'><div class='MBContent'><div id='MessageBoxTitle' class='MBTitle'></div><div id='MessageBoxMsg' class='MBMSgText'></div><div class='MBFoot'><div id='MessageBoxActions' class='MBActions'></div><div style='clear: both'></div></div></div></div>");box.find("#MessageBoxMsg").html(msg),box.find("#MessageBoxTitle").html(title),box.css("position","fixed"),"number"!=typeof zindex&&(zindex=1),box.css("z-index",zindex),box.fadeTo(0,0);var okButton=$("<input id='MessageBoxOkBtn' type='button' class='btn btn-primary' value='确定' />");if(box.find("#MessageBoxActions").append(okButton),okButton.click((function(){fnOk&&fnOk.call(),Easy.OpacityBackGround.Close(),box.animate({top:"45%",opacity:0},200,(function(){$(this).remove()}))})),"boolean"==typeof ShowCancel&&ShowCancel){var CancelButton=$("<input id='MessageBoxCancelBtn' type='button' class='btn btn-default' value='取消' />");CancelButton.click((function(){Easy.OpacityBackGround.Close(),box.animate({top:"45%",opacity:0},200,(function(){$(this).remove()}))})),box.find("#MessageBoxActions").append(CancelButton)}Easy.OpacityBackGround.Show(zindex),$("body").append(box),box.animate({top:"50%",opacity:1},200,(function(){box.find("#MessageBoxOkBtn").focus()}))},Easy.MessageTip=function(){var timeId=0;function Show(msg){var $tip=$(".MessageTip");if(0==$tip.size()){var tipHtml=new Array;tipHtml.push("<div class='MessageTip'>"),tipHtml.push("</div>"),($tip=$(tipHtml.join(""))).css("bottom",10),$tip.append("<p>"+msg+"</p>"),$("body").append($tip),$tip.css("right",0-$tip.width()),$tip.animate({right:-2},200,(function(){timeId=setTimeout((function(){$tip.animate({right:0-$tip.width()},200,(function(){$(this).remove()}))}),5e3)}))}else $tip.append("<p>"+msg+"</p>"),clearTimeout(timeId),timeId=setTimeout((function(){$tip.animate({right:0-$tip.width()},200,(function(){$(this).remove()}))}),5e3)}return{Show:Show}}(),Easy.ShowUrlWindow=function(op){var boxWindow=$("<div class='WeiWindow BoxShadow'><div class='TitleBar'><div class='Left TitleBarLeft'></div><div class='Mid TitleBarMid'></div><div class='Right TitleBarRight'><div class='CloseWindow'></div></div></div><div class='Content'><div class='Left ContentLeft'></div><div class='Mid ContentMid'><iframe src='' width='100%' height='100%' frameborder='0'></iframe></div><div class='Right ContentRight'></div></div><div class='Botoom'><div class='Left BottomLeft'></div><div class='Mid BottomMid'></div><div class='Right BottomRight'></div></div></div>"),deOp={url:"",title:"",callBack:function(){},isDialog:!0,animate:!1,onLoad:function(){}};(deOp=$.extend(deOp,op)).isDialog&&(op.zindex?Easy.OpacityBackGround.Show(op.zindex-1):Easy.OpacityBackGround.Show(++Easy.MaxZindex)),boxWindow.appendTo("body"),boxWindow.find(".Mid.TitleBarMid").DragElement(boxWindow,boxWindow.find(".CloseWindow"),boxWindow.find(".Right.ContentRight"),boxWindow.find(".Right.BottomRight"),boxWindow.find(".Mid.BottomMid")),op.zindex?boxWindow.css("z-index",op.zindex):boxWindow.css("z-index",++Easy.MaxZindex),boxWindow.find(".CloseWindow").click((function(){deOp.isDialog?Easy.OpacityBackGround.Close(deOp.callBack):deOp.callBack.call()})),boxWindow.close=function(){boxWindow.find(".CloseWindow").click()},boxWindow.center=function(){boxWindow.animate({left:(Easy.WindowSize().width-boxWindow.outerWidth())/2,top:(Easy.WindowSize().height-boxWindow.outerHeight())/2},{speed:200})},$(window).resize((function(){Easy.Processor(boxWindow.center,300)}));var windowSize=Easy.WindowSize();deOp.width&&deOp.width<windowSize.width?boxWindow.width(deOp.width):boxWindow.width(.8*windowSize.width),deOp.height&&deOp.height<windowSize.height?boxWindow.height(deOp.height):boxWindow.height(.8*windowSize.height),boxWindow.css("left",(windowSize.width-boxWindow.outerWidth())/2),boxWindow.css("top",(windowSize.height-boxWindow.outerHeight())/2),boxWindow.find(".Mid.TitleBarMid").html(deOp.title);var reSet=!0;return boxWindow.find("iframe").on("load",(function(){""==deOp.title&&boxWindow.find(".Mid.TitleBarMid").html(this.contentWindow.document.title);var w=Number($(this.contentWindow.document).find("body").attr("width")),h=Number($(this.contentWindow.document).find("body").attr("height")),anop={width:boxWindow.width(),left:boxWindow.css("left"),height:boxWindow.height(),top:boxWindow.css("top"),go:!1};w&&(anop.width=w,anop.go=!0,anop.left=Number(boxWindow.css("left").replace("px",""))-(w-boxWindow.width())/2),h&&(anop.height=h,anop.go=!0,anop.top=Number(boxWindow.css("top").replace("px",""))-(h-boxWindow.height())/2),anop.go&&reSet&&boxWindow.animate(anop,300),reSet=!1,deOp.onLoad.call(this.contentWindow,boxWindow)})),boxWindow.find("iframe").attr("src",deOp.url),boxWindow},Easy.jQueryEasing={linear:"linear",swing:"swing",easeInQuad:"easeInQuad",easeOutQuad:"easeOutQuad",easeInOutQuad:"easeInOutQuad",easeInCubic:"easeInCubic",easeOutCubic:"easeOutCubic",easeInOutCubic:"easeInOutCubic",easeInQuart:"easeInQuart",easeOutQuart:"easeOutQuart",easeInOutQuart:"easeInOutQuart",easeInQuint:"easeInQuint",easeOutQuint:"easeOutQuint",easeInOutQuint:"easeInOutQuint",easeInSine:"easeInSine",easeOutSine:"easeOutSine",easeInOutSine:"easeInOutSine",easeInExpo:"easeInExpo",easeOutExpo:"easeOutExpo",easeInOutExpo:"easeInOutExpo",easeInCirc:"easeInCirc",easeOutCirc:"easeOutCirc",easeInOutCirc:"easeInOutCirc",easeInElastic:"easeInElastic",easeOutElastic:"easeOutElastic",easeInOutElastic:"easeInOutElastic",easeInBack:"easeInBack",easeOutBack:"easeOutBack",easeInOutBack:"easeInOutBack",easeInBounce:"easeInBounce",easeOutBounce:"easeOutBounce",easeInOutBounce:"easeInOutBounce"},jQuery.fn.extend({DragElement:function(targetEle,closeEle,ResizeE_Ele,ResizeNW_Ele,ResizeN_Ele){var MouseX=0,MouseY=0,Qthis=this;function EleMouseDown(e){MouseX=Easy.MousePosition(e).X,MouseY=Easy.MousePosition(e).Y;var ele=CreateHelpeDiv(e.data.ac);return ele.bind("mousemove",{ac:e.data.ac},BindItGo),ele.mouseup(mouseUp_Event),!1}function BindItGo(e){var MX=Easy.MousePosition(e).X,MY=Easy.MousePosition(e).Y,Tleft=0,Ttop=0;return"move"==e.data.ac?targetEle instanceof jQuery?(Tleft=parseInt(targetEle.css("left")),Ttop=parseInt(targetEle.css("top")),targetEle.css("left",Tleft+MX-MouseX),targetEle.css("top",Ttop+MY-MouseY)):(Tleft=parseInt(Qthis.css("left")),Ttop=parseInt(Qthis.css("top")),Qthis.css("left",Tleft+MX-MouseX),Qthis.css("top",Ttop+MY-MouseY)):"e-resize"==e.data.ac?targetEle instanceof jQuery?(Tleft=targetEle.width(),targetEle.width(Tleft+MX-MouseX)):(Tleft=Qthis.width(),Qthis.width(Tleft+MX-MouseX)):"nw-resize"==e.data.ac?targetEle instanceof jQuery?(Tleft=targetEle.width(),Ttop=targetEle.height(),targetEle.width(Tleft+MX-MouseX),targetEle.height(Ttop+MY-MouseY)):(Tleft=Qthis.width(),Ttop=Qthis.height(),Qthis.width(Tleft+MX-MouseX),Qthis.height(Ttop+MY-MouseY)):"n-resize"==e.data.ac&&(targetEle instanceof jQuery?(Ttop=targetEle.height(),targetEle.height(Ttop+MY-MouseY)):(Ttop=Qthis.height(),Qthis.height(Ttop+MY-MouseY))),MouseX=MX,MouseY=MY,!1}function CreateHelpeDiv(cursor){"string"!=typeof cursor&&(cursor="move");var ele=$("<div style='cursor:"+cursor+";background-color:Black;z-index:100000'></div>");return ele.addClass("OtherFixed"),ele.fadeTo(0,0),$("body").append(ele),ele}function mouseUp_Event(){return $(this).remove(),!1}targetEle instanceof jQuery?"absolute"!=targetEle.css("position")&&"fixed"!=targetEle.css("position")&&"relative"!=targetEle.css("position")&&targetEle.css("position","relative"):"absolute"!=Qthis.css("position")&&"fixed"!=Qthis.css("position")&&"relative"!=Qthis.css("position")&&Qthis.css("position","relative"),Qthis.css("cursor","move"),Qthis.bind("mousedown",{ac:"move"},EleMouseDown),closeEle instanceof jQuery&&closeEle.click((function(){targetEle instanceof jQuery?targetEle.remove():Qthis.remove()})),ResizeE_Ele instanceof jQuery&&(ResizeE_Ele.css("cursor","e-resize"),ResizeE_Ele.bind("mousedown",{ac:"e-resize"},EleMouseDown)),ResizeNW_Ele instanceof jQuery&&(ResizeNW_Ele.css("cursor","nw-resize"),ResizeNW_Ele.bind("mousedown",{ac:"nw-resize"},EleMouseDown)),ResizeN_Ele instanceof jQuery&&(ResizeN_Ele.css("cursor","n-resize"),ResizeN_Ele.bind("mousedown",{ac:"n-resize"},EleMouseDown))}}),jQuery.fn.extend({mousewheel:function(up,down,preventDefault){return this.hover((function(){jQuery.event.mousewheel.giveFocus(this,up,down,preventDefault)}),(function(){jQuery.event.mousewheel.removeFocus(this)}))},mousewheeldown:function(fn,preventDefault){return this.mousewheel((function(){}),fn,preventDefault)},mousewheelup:function(fn,preventDefault){return this.mousewheel(fn,(function(){}),preventDefault)},unmousewheel:function(){return this.each((function(){jQuery(this).unmouseover().unmouseout(),jQuery.event.mousewheel.removeFocus(this)}))},unmousewheeldown:jQuery.fn.unmousewheel,unmousewheelup:jQuery.fn.unmousewheel}),jQuery.event.mousewheel={giveFocus:function(el,up,down,preventDefault){el._handleMousewheel&&jQuery(el).unmousewheel(),preventDefault==window.undefined&&down&&down.constructor!=Function&&(preventDefault=down,down=null),el._handleMousewheel=function(event){event||(event=window.event),preventDefault&&(event.preventDefault?event.preventDefault():event.returnValue=!1);var delta=0;event.wheelDelta?(delta=event.wheelDelta/120,window.opera&&(delta=-delta)):event.detail&&(delta=-event.detail/3),up&&(delta>0||!down)?up.apply(el,[event,delta]):down&&delta<0&&down.apply(el,[event,delta])},window.addEventListener&&window.addEventListener("DOMMouseScroll",el._handleMousewheel,!1),window.onmousewheel=document.onmousewheel=el._handleMousewheel},removeFocus:function(el){el._handleMousewheel&&(window.removeEventListener&&window.removeEventListener("DOMMouseScroll",el._handleMousewheel,!1),window.onmousewheel=document.onmousewheel=null,el._handleMousewheel=null)}},jQuery.fn.extend({AutoScroll:function(){var Qthis=$(this),ChHeight=100;Qthis.children().each((function(){ChHeight+=$(this).outerHeight()}));var Vdet=(ChHeight-Qthis.height())/Qthis.height(),ChWidth=Qthis.children().width(),Hdet=(ChWidth-Qthis.width())/Qthis.width();function move_Event(e){var mouseY=Easy.MousePosition(e).Y-$(this).offset().top,mouseX=Easy.MousePosition(e).X-$(this).offset().left;Vdet>0&&$(this).scrollTop(Vdet*mouseY),Hdet>0&&$(this).scrollLeft(Hdet*mouseX)}function FreshHeight(){ChHeight=Qthis.children().height()*Qthis.children().size(),Vdet=(ChHeight-Qthis.height())/Qthis.height(),ChWidth=Qthis.children().width(),Hdet=(ChWidth-Qthis.width())/Qthis.width()}return Qthis.bind("mousemove",move_Event),FreshHeight},MarqueeH:function(offset){"number"!=typeof offset&&(offset=2);var JqThis=this,maxleft=JqThis.children().width()-JqThis.width();if(maxleft<0)return!1;var Pac=1,stop=!1;function AutoH(){stop||(1==Pac?JqThis.scrollLeft(JqThis.scrollLeft()+offset):JqThis.scrollLeft(JqThis.scrollLeft()-offset)),JqThis.scrollLeft()>=maxleft&&(Pac=2),0==JqThis.scrollLeft()&&(Pac=1)}setInterval(AutoH,50),JqThis.mouseenter((function(){stop=!0})),JqThis.mouseleave((function(){stop=!1}))},MarqueeV:function(offset){"number"!=typeof offset&&(offset=2);var JqThis=this,maxTop=JqThis.children().height()-JqThis.height();if(maxTop<0)return!1;var Pac=1,stop=!1;function AutoV(){stop||(1==Pac?JqThis.scrollTop(JqThis.scrollTop()+offset):JqThis.scrollTop(JqThis.scrollTop()-offset)),JqThis.scrollTop()>=maxTop&&(Pac=2),0==JqThis.scrollTop()&&(Pac=1)}setInterval(AutoV,50),JqThis.mouseenter((function(){stop=!0})),JqThis.mouseleave((function(){stop=!1}))}}),jQuery.fn.extend({ImageCenter_Adapt:function(PaWidth,PaHeight,BackGroundColor){var inde=1;this.each((function(){var ht=inde,Qthis=$(this);Qthis.css("display","block"),Qthis.hide();var Pa=Qthis.parent();Pa.css("display","block"),"number"==typeof PaWidth&&Pa.width(PaWidth),"number"==typeof PaHeight&&Pa.height(PaHeight),Pa.css("background-color",BackGroundColor);var s=Pa.width()/Pa.height(),Img=new Image;Img.onload=function(){var w=Img.width,h=Img.height,s2;s>w/h?(Qthis.height(Pa.height()),Qthis.css("width","auto"),Qthis.css("margin","0px auto")):(Qthis.width(Pa.width()),Qthis.css("height","auto"),Qthis.css("margin-top",(Pa.height()-Qthis.height())/2)),setTimeout((function(){Qthis.fadeIn(300)}),50*ht)},Img.src=Qthis.attr("src"),inde++}))},ImageCenter_Full:function(PaWidth,PaHeight){var inde=1;this.each((function(){var ht=inde,Qthis=$(this);Qthis.hide();var Pa=Qthis.parent();Pa.css("overflow","hidden"),"number"==typeof PaWidth&&Pa.width(PaWidth),"number"==typeof PaHeight&&Pa.height(PaHeight);var s=Pa.width()/Pa.height(),Img=new Image;Img.onload=function(){var w=Img.width,h=Img.height,s2;s>w/h?(Qthis.width(Pa.width()),Qthis.css("height",""),Qthis.css("margin-top",(Pa.height()-Qthis.height())/2)):(Qthis.height(Pa.height()),Qthis.css("width",""),Qthis.css("margin-left",(Pa.width()-Qthis.width())/2)),setTimeout((function(){Qthis.fadeIn(300)}),50*ht)},Img.src=Qthis.attr("src"),inde++}))}}),$.fn.size=function(){return this.length},$.ajaxSetup({beforeSend:function(xhr){xhr.busyTimer=setTimeout((function(){Easy.Block()}),3e3)},complete:function(xhr,status){clearTimeout(xhr.busyTimer),Easy.UnBlock()}}),$(document).on("click",".pop-dialog:not(.video-play)",(function(){return Easy.ShowUrlWindow({url:$(this).data("url")||$(this).attr("href"),title:$(this).data("title")||$(this).attr("title"),width:$(this).data("width")||800,height:$(this).data("height")||500,isDialog:!0}),!1})),document.addEventListener("click",(function(e){var path;if(path=event.path||event.composedPath&&event.composedPath()){for(var videoElement=null,i=0;i<path.length&&path[i]!=document.body;i++)if(path[i].matches(".video-play")){videoElement=path[i];break}if(videoElement){e.preventDefault();var player=document.createElement("div");player.style="position:fixed;left:0;right:0;top:0;bottom:0;z-index:99999;background:rgba(0,0,0,0.8);";var closeButon=document.createElement("button");closeButon.style="background:#0D4891;border:none;width: 50px; height: 50px; padding: 6px; cursor: pointer; position: absolute; right: 5px; top: 5px;";var xmlns="http://www.w3.org/2000/svg",closeIcon=document.createElementNS(xmlns,"svg"),path;closeIcon.setAttributeNS(null,"viewBox","0 0 14 14"),closeIcon.setAttributeNS(null,"width",32),closeIcon.setAttributeNS(null,"height",32),closeIcon.style="width: 32px;height: 32px;fill: #fff;",(path=document.createElementNS(xmlns,"path")).setAttributeNS(null,"d","M.46 12.023L11.772.709l1.768 1.768L2.227 13.791z");var path2=document.createElementNS(xmlns,"path");path2.setAttributeNS(null,"d","M2.227.71l11.314 11.313-1.768 1.768L.459 2.477z"),closeIcon.appendChild(path),closeIcon.appendChild(path2),closeButon.appendChild(closeIcon),player.appendChild(closeButon);var videoContainer=document.createElement("div");videoContainer.style="position: absolute; top: 60px; bottom: 60px;left: 10px; right: 10px; display: flex;align-content: center;justify-content: center;";var videoLink=videoElement.getAttribute("href");if(videoLink.indexOf(".mp4")>0){var video=document.createElement("video");video.controls=!0,video.autoplay=!0,video.muted=!0,video.src=videoLink,video.style.maxWidth="100%",video.style.maxHeight="100%",videoContainer.appendChild(video)}else{var iframe=document.createElement("iframe");iframe.src=videoLink,iframe.setAttribute("frameborder","0"),iframe.style="width:100%;height:100%;",videoContainer.appendChild(iframe)}player.appendChild(videoContainer),closeButon.addEventListener("click",(function(){document.body.removeChild(player)})),document.body.appendChild(player)}}}));